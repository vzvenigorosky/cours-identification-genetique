<!DOCTYPE html>
<html>
<head>
    <title>Random Question Quiz</title>
    <style>
        .correct { color: green; }
        .wrong { color: red; }
    </style>
</head>
<body>

<div id="question"></div>
<ul id="answers"></ul>
    <button id="nextQuestion" style="display:none;" onclick="nextQuestion()">Next Question</button>


<script src="quiz-data.js"></script>
<script>
let currentQuestionIndex = 0;

function displayQuestion() {
    if (currentQuestionIndex >= quizData.length) {
        document.getElementById('question').textContent = "Quiz Finished!";
        document.getElementById('answers').innerHTML = '';
        document.getElementById('nextQuestion').style.display = 'none';
        return;
    }
    
    const selectedQuestion = quizData[currentQuestionIndex];

    const answers = [selectedQuestion.correctAnswer, ...selectedQuestion.wrongAnswers.sort(() => 0.5 - Math.random()).slice(0, 3)]
                            .sort(() => 0.5 - Math.random());

    document.getElementById('question').textContent = selectedQuestion.question;
    document.getElementById('nextQuestion').style.display = 'none';

    const answersList = document.getElementById('answers');
    answersList.innerHTML = '';
    answers.forEach(answer => {
        const li = document.createElement('li');
        const input = document.createElement('input');
        input.type = 'checkbox';
        input.name = "answers";
        input.onchange = () => checkAnswer(answer, selectedQuestion.correctAnswer, input);
        li.appendChild(input);
        li.append(document.createTextNode(` ${answer}`));
        answersList.appendChild(li);
    });
}

function checkAnswer(selectedAnswer, correctAnswer, checkbox) {
    document.querySelectorAll('#answers input').forEach(input => {
        input.disabled = true;
        if (input.nextSibling.textContent.trim() === correctAnswer) {
            input.parentElement.classList.add('correct');
            input.nextSibling.after(' ✓');
        } else {
            input.parentElement.classList.add('wrong');
            input.nextSibling.after(' ✗');
        }
    });

    document.getElementById('nextQuestion').style.display = 'block';
}

function nextQuestion() {
    currentQuestionIndex++;
    displayQuestion();
}

window.onload = displayQuestion;
</script>

</body>
</html>
